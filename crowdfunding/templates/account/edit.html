{% extends 'base/base.html' %}
{% load crispy_forms_tags %}
{% load static %}
{% block title %}
    Edit profile
{% endblock title %}

{% block css %}
<link rel="stylesheet" href="{% static 'base/css/navbar.css' %}" />
<link rel="stylesheet" href="{% static 'base/css/footer.css' %}" />
<link rel="stylesheet" href="{% static 'account/css/edit.css' %}" />
{% endblock css %}

{% block content %}
{% comment %} Delete Account {% endcomment %}
<div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Confirm Deletion</h5>
      </div>
      <div class="modal-body">
        Are you sure you want to permanently remove your account?
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
        <form action="" method="POST">
            {% csrf_token %}
            <input type="text" id="name" name="delete_account" style='display:none;'></input>
            <button type='submit' class="btn btn-danger">Delete</button>
        </form>
      </div>
    </div>
  </div>
</div>
<form method='POST' action="" enctype="multipart/form-data">
   {% csrf_token %}
    <div class="edit-main"> 
        <div class="card mb-4 mb-xl-0 edit-left">
            <div class='card'>
                <div class="card-header">Profile Picture</div>
                <div class="card-body text-center">
                    <img class="img-account-profile rounded-circle mb-2"
                        src='{{object.image.url}}' alt="">
                    <div class="small font-italic text-muted mb-4">JPG or PNG no larger than 5 MB</div>
                    <div class="custom-file">
                        <input type="file" class="custom-file-input" id="customFile" name="image">
                        <label class="custom-file-label" for="customFile">Choose file</label>
                    </div>
                </div>
            </div>
            <div class='card'>
                <div class="card-header">

                    <button type="button" class="btn btn-danger" data-bs-toggle="modal" data-bs-target="#exampleModal">
                        Delete account
                    </button>
                </div>
            </div>
        </div>

        <div class="card mb-4 edit-right">
            <div class="card-header">Account Details</div>
            <div class="card-body">
                <div class='create_form'>
                    {{form|crispy }}
                    <div class='btns'>
                        <button type="submit" class="btn btn-submit">Submit</button>
                        <a href="#" class="btn btn-return">Return</a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</form>
{% endblock %}

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css"
      integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
        crossorigin="anonymous"></script>
